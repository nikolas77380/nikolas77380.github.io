(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{297:function(e,t,n){e.exports=n.p+"static/media/brand.430ac6da.svg"},377:function(e,t,n){e.exports=n(688)},386:function(e,t,n){},688:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(41),i=n.n(c),o=n(43),l=(n(386),n(102)),s=n(69),u=n(217),p=n(216),d=n.n(p)()({}),m=Object(u.connectedRouterRedirect)({redirectPath:"/login",allowRedirectBack:!1,authenticatedSelector:function(e){return null!==e.auth.user},authenticatingSelector:function(e){return!!e.auth.loggingIn},wrapperDisplayName:"UserIsAuthenticated"}),f=Object(u.connectedRouterRedirect)({redirectPath:function(e,t){return d.getRedirectQueryParam(t)||"/"},allowRedirectBack:!1,authenticatedSelector:function(e){return null===e.auth.user},authenticatingSelector:function(e){return!!e.auth.loggingIn},wrapperDisplayName:"UserIsNotAuthenticated"}),h=n(33),g=n(34),E=n(39),b=n(38),v=n(40),y=n(23),w=n(17),O=n.n(w),j=n(36),C=n(106),S=n.n(C);S.a.initializeApp({apiKey:"AIzaSyCynwdg9s_mRnJpwcLjafLhYPlwCPhLfjk",authDomain:"mytefl-crm.firebaseapp.com",databaseURL:"https://mytefl-crm.firebaseio.com",projectId:"mytefl-crm",storageBucket:"mytefl-crm.appspot.com",messagingSenderId:"916678498668"});new S.a.auth.GoogleAuthProvider;var x=S.a.auth(),N=S.a.database(),k=(S.a,n(689)),I=Object(k.a)({AUTH:{START:function(e){return e},SUCCESS:function(e){return e},FAILURE:function(e){return e},LOGOUT:function(e){return e}}}).auth;var R=n(9),A=n.n(R),T=n(64),D=n.n(T),P=n(44),L=n.n(P),F=n(31),_=n.n(F),B=n(24),U=n.n(B),G=n(25),W=n.n(G),M=n(37),K=n.n(M),H=n(46),z=n.n(H),q=A()(function(e){return{footer:{paddingTop:e.spacing.unit},messageBox:{width:"100%",textAlign:"center",background:"#ffd966",borderRadius:5,marginTop:2*e.spacing.unit,padding:.7*e.spacing.unit}}})(function(e){var t=e.classes,n=e.errorMsg;return n?r.a.createElement("div",{className:t.messageBox},r.a.createElement(z.a,{variant:"subtitle1"},n.message||"Something went wrong")):null}),Y=n(297),J=n.n(Y),V=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=e.target,a=t.email.value,r=t.password.value;n.props.loginByPassword(a,r)},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.loggingIn,a=e.loginError,c=e.mfaRequired;return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:t.layout},r.a.createElement(K.a,{className:t.paper},r.a.createElement("div",{className:t.logo},r.a.createElement("img",{src:J.a,alt:"Mytefl logo",width:"100%"})),r.a.createElement("form",{className:t.form,onSubmit:this.handleSubmit},r.a.createElement(_.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(W.a,{htmlFor:"email"},"Email"),r.a.createElement(U.a,{name:"email",type:"text",autoComplete:"email",autoFocus:!0})),r.a.createElement(_.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(W.a,{htmlFor:"password"},"Password"),r.a.createElement(U.a,{name:"password",type:"password",autoComplete:"current-password"})),c&&r.a.createElement(_.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(W.a,{htmlFor:"mfaCode"},"MFA Code"),r.a.createElement(U.a,{name:"mfaCode",type:"number",placeholder:"000000"})),r.a.createElement("div",{className:t.wrapper},r.a.createElement(L.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:n,className:t.submit},"Sign in"),n&&r.a.createElement(D.a,{size:24,className:t.buttonProgress})),r.a.createElement("div",{className:t.forgotLinkWrapper})),r.a.createElement(q,{errorMsg:a}))))}}]),t}(a.Component),X=Object(o.connect)(function(e){return{loggingIn:e.auth.loggingIn,loginError:e.auth.loginError}},{loginByPassword:function(e,t){return function(){var n=Object(j.a)(O.a.mark(function n(a){return O.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(I.start()),n.next=3,x.signInWithEmailAndPassword(e,t).then(function(n){sessionStorage.setItem("login",e),sessionStorage.setItem("password",t),a(I.success({email:n.user.email,refreshToken:n.user.refreshToken}))}).catch(function(e){console.log(e),a(I.failure(e))});case 3:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}})(A()(function(e){return{layout:Object(y.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(500+3*e.spacing.unit*2),{width:500,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},tpaper:{marginTop:24*e.spacing.unit,marginBottom:12*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px"),border:"2px dashed orange"},logo:{margin:e.spacing.unit,padding:"0 ".concat(3*e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},login_footer:{paddingTop:8*e.spacing.unit},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},wrapper:{position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:0,marginLeft:-12},forgotLinkWrapper:{marginTop:e.spacing.unit},forgotButton:{fontSize:"0.700rem"}}})(V)),Q=function(){return r.a.createElement("div",null,r.a.createElement(X,null))},$=n(21),Z=n(147),ee=n.n(Z),te=n(148),ne=n.n(te),ae=n(149),re=n.n(ae),ce=n(298),ie=n.n(ce);var oe=Object(o.connect)(function(e){return{loggingIn:e.auth.loggingIn,loginError:e.auth.loginError}},{logOut:function(){return function(){var e=Object(j.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:x.signOut().then(function(){sessionStorage.removeItem("login"),sessionStorage.removeItem("password"),t(I.logout())}).catch(function(e){});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(Object(s.d)(Object($.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},AppBar:{position:"fixed",top:0},menuButton:{marginLeft:-12,marginRight:20}})(function(e){var t=e.classes,n=e.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{position:"static",className:t.AppBar},r.a.createElement(ne.a,null,"/"!==n.location.pathname&&r.a.createElement(re.a,{onClick:function(){return n.goBack()},className:t.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(ie.a,null)),r.a.createElement(z.a,{variant:"h6",color:"inherit",className:t.grow},"Mytefl"),"/partners"!==n.location.pathname&&r.a.createElement(L.a,{color:"inherit",onClick:function(){return n.push("/partners")}},"Partners"),r.a.createElement(L.a,{color:"inherit",onClick:function(){return e.logOut()}},"Log Out"))))}))),le=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.children;return r.a.createElement("div",{className:t.root},r.a.createElement(oe,null),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),n))}}]),t}(a.Component),se=Object($.withStyles)(function(e){return{root:{display:"flex",flexDirection:"column"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"}}})(le),ue=n(11),pe=n(105),de=n(3),me=n.n(de),fe=n(78),he=n.n(fe),ge=n(103),Ee=n.n(ge),be=n(55),ve=n(303),ye=n.n(ve),we=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).getRowClassName=function(e){var t=e.index,a=n.props,r=a.classes,c=a.rowClassName,i=a.onRowClick;return me()(r.tableRow,r.flexContainer,c,Object(y.a)({},r.tableRowHover,-1!==t&&null!=i))},n.cellRenderer=function(e){var t=e.cellData,a=e.columnIndex,c=void 0===a?null:a,i=n.props,o=i.columns,l=i.classes,s=i.rowHeight,u=i.onRowClick;return r.a.createElement(he.a,{component:"div",className:me()(l.tableCell,l.flexContainer,Object(y.a)({},l.noClick,null==u)),variant:"body",style:{height:s},align:null!=c&&o[c].numeric?"right":"left"},t)},n.headerRenderer=function(e){var t,a=e.label,c=e.columnIndex,i=e.dataKey,o=e.sortBy,l=e.sortDirection,s=n.props,u=s.headerHeight,p=s.columns,d=s.classes,m=s.sort,f=(t={},Object(y.a)(t,be.c.ASC,"asc"),Object(y.a)(t,be.c.DESC,"desc"),t),h=p[c].disableSort||null==m?a:r.a.createElement(Ee.a,{active:i===o,direction:f[l]},a);return r.a.createElement(he.a,{component:"div",className:me()(d.tableCell,d.flexContainer,d.noClick),variant:"head",style:{height:u},align:p[c].numeric?"right":"left"},h)},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.columns,c=Object(pe.a)(t,["classes","columns"]);return r.a.createElement(be.a,null,function(t){var i=t.height,o=t.width;return r.a.createElement(be.d,Object.assign({className:n.table,height:i,width:o},c,{rowClassName:e.getRowClassName}),a.map(function(t,a){var c,i=t.cellContentRenderer,o=void 0===i?null:i,l=t.className,s=t.dataKey,u=Object(pe.a)(t,["cellContentRenderer","className","dataKey"]);return c=null!=o?function(t){return e.cellRenderer({cellData:o(t),columnIndex:a})}:e.cellRenderer,r.a.createElement(be.b,Object.assign({key:s,headerRenderer:function(t){return e.headerRenderer(Object(ue.a)({},t,{columnIndex:a}))},className:me()(n.flexContainer,l),cellRenderer:c,dataKey:s},u))}))})}}]),t}(r.a.PureComponent);we.defaultProps={headerHeight:56,rowHeight:56};var Oe=Object($.withStyles)(function(e){return{table:{fontFamily:e.typography.fontFamily},flexContainer:{display:"flex",flex:1,alignItems:"center",boxSizing:"border-box"},tableRow:{cursor:"pointer"},tableRowHover:{"&:hover":{backgroundColor:e.palette.grey[200]}},tableCell:{flex:1},noClick:{cursor:"initial"}}})(we),je=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).state={rows:[]},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.history,t=this.state.rows;return r.a.createElement(K.a,{style:{height:400,width:"100%"}},r.a.createElement(Oe,{rowCount:t.length,rowGetter:function(e){var n=e.index;return t[n]},onRowClick:function(n){return e.push("/singleLead/".concat(t[n.index].id))},columns:[{width:120,flexGrow:1,label:"First Name",dataKey:"first_name"},{width:120,flexGrow:1,label:"Last Name",dataKey:"last_name",numeric:!1},{width:200,flexGrow:1,label:"Country",dataKey:"country",numeric:!1},{width:300,flexGrow:1,label:"Preferred teaching destination One",dataKey:"preferred_teaching_destination_one",numeric:!1},{width:300,flexGrow:1,label:"Preferred teaching destination Two",dataKey:"preferred_teaching_destination_two",numeric:!1},{width:200,flexGrow:1,label:"Date",dataKey:"date",numeric:!1}]}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.data!==t.data)return{rows:e.data.map(function(e){return function(e){var t=e.id,n=e.first_name,a=e.last_name,r=e.country,c=e.preferred_teaching_destination_one,i=e.preferred_teaching_destination_two,o=e.order_date;return{id:t,first_name:n,last_name:a,country:r,preferred_teaching_destination_one:c,preferred_teaching_destination_two:i,date:ye.a.unix(o).format("MM DD YYYY")}}(e)})}}}]),t}(r.a.Component),Ce=Object(s.d)(je),Se=Object(k.a)({DASHBOARD:{START:function(e){return e},SUCCESS:function(e){return e},FAILURE:function(e){return e}}}).dashboard,xe=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.getTasksThunk()}},{key:"render",value:function(){var e=this.props.leads;return r.a.createElement(Ce,{data:e})}}]),t}(r.a.Component),Ne=Object(o.connect)(function(e){return{leads:e.dashboard.leads}},{getTasksThunk:function(){return function(e){e(Se.start());var t=[];N.ref("/customers").once("value",function(e){e.forEach(function(e){var n=e.val();n.id=e.key,t.push(n)})}).then(function(){e(Se.success(t))}).catch(function(t){e(Se.failure(t))})}}})(xe),ke=function(){return r.a.createElement(se,null,r.a.createElement(Ne,null))},Ie=[{"Connected to Partner":["Connect to Partner"]},{"interview offered":["Offered","Declined"]},{interview:["Success","Failed"]},{Job:["Accepted by Applicant","Declined by Applicant"]},{Contract:["Signed","Not Signed"]},{"Candidate in Country":["Yes","No"]}],Re=["Declined","Failed","Declined by Applicant","Not Signed","No"],Ae=n(304),Te=n.n(Ae),De="http://134.209.173.71",Pe={headers:{"Content-Type":"application/json"}},Le=new(function(){function e(){Object(h.a)(this,e)}return Object(g.a)(e,[{key:"getFiles",value:function(){var e=Object(j.a)(O.a.mark(function e(t,n){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te.a.get("".concat(De,"/files?userId=").concat(t,"&applicationId=").concat(n),Pe);case 3:return a=e.sent,console.log(a),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}()}]),e}()),Fe=Object(k.a)({LEADS:{START:function(e){return e},FAILURE:function(e){return e},UPDATEAPPLICATION:function(e){return e},SETFILES:function(e){return e},UPDATELEAD:function(e){return e},SETPARTNERS:function(e){return e},SETSINGLELEAD:function(e){return e},CLEARSINGLELEAD:function(e){return e}}}).leads,_e=function(e){return new Promise(function(t){var n=[];N.ref("applications").orderByChild("customer_id").equalTo(e).on("value",function(e){e.forEach(function(e){Be("applications",e.key).then(function(e){n.push(e)})}),t(n)})})},Be=function(e,t){return new Promise(function(n){N.ref(e).child(t).once("value").then(function(e){var a={};e.forEach(function(e){var t=e.key,n=e.val();a[t]=n}),a.id=t,n(a)})})},Ue=function(e){return function(){var t=Object(j.a)(O.a.mark(function t(n,a){var r,c;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Be("customers",e);case 2:return r=t.sent,t.next=5,_e(e.substr(1));case 5:c=t.sent,r.applications=c,setTimeout(function(){n(Fe.setsinglelead(r))},1e3);case 8:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},Ge=function(e){var t=e.applicationId,n=e.stepDescription,a=e.stepId;return function(){var e=Object(j.a)(O.a.mark(function e(r,c){var i,o,l;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=c().leads.currentLead,o=Object(ue.a)({},i,{applications:i.applications.map(function(e){return e.id===t?Object(ue.a)({},e,{completed_step:a,step_description:n}):e})}),(l={})["/applications/"+t]=o.applications.find(function(e){return e.id===t}),r(Fe.start()),N.ref().update(l).then(function(){r(Fe.updateapplication(o.applications.find(function(e){return e.id===t})))}).catch(function(e){r(Fe.failure(e))});case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},We=function(e){var t=e.partnerId,n=e.applicationId,a=e.stepDescription,r=e.stepId;return function(){var e=Object(j.a)(O.a.mark(function e(c,i){var o,l,s;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=i().leads.currentLead,l=Object(ue.a)({},o,{applications:o.applications.map(function(e){return e.id===n?Object(ue.a)({},e,{partnerId:t,completed_step:r,step_description:a}):e})}),(s={})["/applications/"+n]=l.applications.find(function(e){return e.id===n}),c(Fe.start()),N.ref().update(s).then(function(){c(Fe.updateapplication(l.applications.find(function(e){return e.id===n}))),console.log("send email - {to partner with links to docs for current lead}")}).catch(function(e){c(Fe.failure(e))});case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Me=function(e){var t=e.applicationId,n=e.stepDescription,a=e.stepId;return function(){var e=Object(j.a)(O.a.mark(function e(r,c){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r(Ge({applicationId:t,stepDescription:n,stepId:a}));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Ke=function(e){var t=e.applicationId,n=e.stepDescription,a=e.stepId;return function(){var e=Object(j.a)(O.a.mark(function e(r,c){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r(Ge({applicationId:t,stepDescription:n,stepId:a})),Re.includes(n)||(console.log("send email - Interview Success"),console.log("send  email - jobs@mytefl.com or jobs2@mytefl.com"));case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},He=function(e){var t=e.applicationId,n=e.stepDescription,a=e.stepId;return function(){var e=Object(j.a)(O.a.mark(function e(r,c){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r(Ge({applicationId:t,stepDescription:n,stepId:a})),console.log("send email - Job Accepted or declined by Applicant {email to partner}");case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},ze=function(e){var t=e.applicationId,n=e.stepDescription,a=e.stepId;return function(){var e=Object(j.a)(O.a.mark(function e(r,c){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r(Ge({applicationId:t,stepDescription:n,stepId:a}));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},qe=function(e){var t=e.applicationId,n=e.stepDescription,a=e.stepId;return function(){var e=Object(j.a)(O.a.mark(function e(r,c){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r(Ge({applicationId:t,stepDescription:n,stepId:a})),Re.includes(n)||console.log("send email - Send email to Tyler");case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Ye=n(120),Je=n.n(Ye),Ve=n(15),Xe=n.n(Ve),Qe=n(121),$e=n.n(Qe),Ze=n(150),et=n.n(Ze),tt=n(152),nt=n.n(tt),at=n(151),rt=n.n(at),ct=n(305),it=n.n(ct),ot=A()(function(e){var t;return{paper:(t={marginBottom:3*e.spacing.unit,padding:2*e.spacing.unit},Object(y.a)(t,e.breakpoints.up(600+3*e.spacing.unit*2),{marginBottom:6*e.spacing.unit,padding:3*e.spacing.unit}),Object(y.a)(t,"display","flex"),Object(y.a)(t,"flexDirection","column"),Object(y.a)(t,"justifyContent","space-around"),t),textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},formControl:{margin:2*e.spacing.unit}}})(function(e){var t=e.classes,n=e.lead,a=n.id,c=n.country,i=n.city,o=n.address_1,l=n.postcode,s=n.email,u=n.phone,p=n.order_date,d=e.appId,m=e.files[d]||[];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe.a,{container:!0,spacing:24},r.a.createElement(Xe.a,{item:!0,xs:2},r.a.createElement(K.a,{className:t.paper},r.a.createElement(Xe.a,{container:!0,spacing:24},r.a.createElement(Xe.a,{item:!0,xs:12},r.a.createElement(z.a,{variant:"h2"},"Files")),r.a.createElement(Xe.a,{item:!0},r.a.createElement(Je.a,null,m.map(function(e){return r.a.createElement($e.a,null,r.a.createElement(et.a,null,r.a.createElement(rt.a,null,r.a.createElement(it.a,null))),r.a.createElement(nt.a,{primary:r.a.createElement("a",{target:"_blank",href:"".concat(De,"/files/download?userId=").concat(a,"&applicationId=").concat(d,"&file=").concat(e)},e)}))})))))),r.a.createElement(Xe.a,{item:!0,xs:10},r.a.createElement(K.a,{className:t.paper},r.a.createElement(Xe.a,{container:!0,spacing:24},r.a.createElement(Xe.a,{item:!0,xs:12},r.a.createElement(z.a,{variant:"h2"},"Details")),r.a.createElement(Xe.a,{item:!0,xs:4},r.a.createElement(_.a,{className:t.formControl,disabled:!0},r.a.createElement(W.a,{htmlFor:"country"},"Country"),r.a.createElement(U.a,{id:"country",value:c}))),r.a.createElement(Xe.a,{item:!0,xs:4},r.a.createElement(_.a,{className:t.formControl,disabled:!0},r.a.createElement(W.a,{htmlFor:"city"},"City"),r.a.createElement(U.a,{id:"city",value:i}))),r.a.createElement(Xe.a,{item:!0,xs:4},r.a.createElement(_.a,{className:t.formControl,disabled:!0},r.a.createElement(W.a,{htmlFor:"address_1"},"Address"),r.a.createElement(U.a,{id:"address_1",value:o}))),r.a.createElement(Xe.a,{item:!0,xs:4},r.a.createElement(_.a,{className:t.formControl,disabled:!0},r.a.createElement(W.a,{htmlFor:"postcode"},"Post Code"),r.a.createElement(U.a,{id:"postcode",value:l}))),r.a.createElement(Xe.a,{item:!0,xs:4},r.a.createElement(_.a,{className:t.formControl,disabled:!0},r.a.createElement(W.a,{htmlFor:"component-disabled"},"Email"),r.a.createElement(U.a,{id:"component-disabled",value:s}))),r.a.createElement(Xe.a,{item:!0,xs:4},r.a.createElement(_.a,{className:t.formControl,disabled:!0},r.a.createElement(W.a,{htmlFor:"phone"},"Phone"),r.a.createElement(U.a,{id:"phone",value:u}))),r.a.createElement(Xe.a,{item:!0,xs:4},r.a.createElement(_.a,{className:t.formControl,disabled:!0},r.a.createElement(W.a,{htmlFor:"order_date"},"Order Date"),r.a.createElement(U.a,{id:"order_date",value:p}))))))))}),lt=n(89),st=n.n(lt),ut=n(122),pt=n.n(ut),dt=n(153),mt=n.n(dt),ft=n(154),ht=n.n(ft),gt=n(155),Et=n.n(gt),bt=function(e){var t=e.activeStep,n=e.handleComplete,a=e.disabled,c=Object.values(t)[0];return 2===c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{disabled:a,variant:"contained",color:"secondary",onClick:function(){return n(c[0])}},c[0])," ",r.a.createElement(L.a,{disabled:a,variant:"contained",color:"primary",onClick:function(){return n(c[1])}},c[1])):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{disabled:a,variant:"contained",color:"primary",onClick:function(){return n(Object.keys(t)[0])}},c[0]))},vt=A()(function(e){return{root:{width:"90%"},button:{marginRight:e.spacing},instructions:{marginTop:e.spacing,marginBottom:e.spacing}}})(function(e){var t,n,a=e.classes,c=e.handleComplete,i=e.completedStepIndex,o=e.completedStepDesc,l=e.partnerId;void 0===i?(n=!l,t=0):Re.includes(o)?(t=i,n=!0):(t=i+1,n=!1);var s=Ie.length;return r.a.createElement("div",{className:a.root},r.a.createElement(mt.a,{activeStep:t},Ie.map(function(e,t){var n={},a=Object.keys(e)[0];return t==i&&Re.includes(o)&&(n.error=!0,n.optional=r.a.createElement(z.a,{variant:"caption",color:"error"},"Failed")),r.a.createElement(ht.a,Object.assign({key:a},n),r.a.createElement(Et.a,n,a))})),s!==t&&r.a.createElement(bt,{activeStep:Ie[t],handleComplete:c,disabled:n}))}),yt=function(e){var t=e.data,n=e.partnerId,a=e.onChangePartner,c=t.map(function(e){return r.a.createElement(st.a,{key:e.id,value:e.id},e.contactName)});return r.a.createElement(pt.a,{value:n,onChange:a,inputProps:{name:"partner",id:"partner"},fullWidth:!0},r.a.createElement(st.a,{key:"_empty",value:""},r.a.createElement("em",null,"None")),c)},wt=function(e){var t=e.data,n=e.application,a=e.onChangeApplication,c=n?n.id:"",i=t.map(function(e){return r.a.createElement(st.a,{key:e.id,value:e.id},e.country)});return r.a.createElement(pt.a,{value:c,onChange:a,inputProps:{name:"application",id:"application"},fullWidth:!0},r.a.createElement(st.a,{key:"_empty",value:"",disabled:!0},r.a.createElement("em",null,"Select App")),i)},Ot=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={partner:{}},n.handleChangePartner=function(e){n.setState({partner:n.props.partners.find(function(t){return t.id===e.target.value})})},n.handleChangeApplication=function(e){var t=n.props.lead.applications.find(function(t){return t.id===e.target.value})||{};n.props.setApplication({id:e.target.value}),n.props.fetchPartnersByCountry(t.country)},n.handleCompleteStep=function(e){var t=n.state.partner.id,a=n.props.applicationSelected.id,r=e;n.props.completeStep({stepDescription:r,partnerId:t,applicationId:a})},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.setSingleLead(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.partners,a=e.lead,c=e.applicationSelected,i=e.files,o=this.state.partner;return console.log(i),0===Object.keys(a).length?r.a.createElement(D.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:t.content},r.a.createElement(K.a,{className:t.paper},r.a.createElement(Xe.a,{container:!0,spacing:24,direction:"row",justify:"space-between",alignItems:"flex-start"},r.a.createElement(Xe.a,{item:!0},r.a.createElement(Xe.a,{item:!0},r.a.createElement(z.a,{variant:"h5",align:"center"},"".concat(a.first_name," ").concat(a.last_name))),r.a.createElement(Xe.a,{item:!0},r.a.createElement(W.a,null,"Select Application"),r.a.createElement(wt,{data:a.applications,onChangeApplication:this.handleChangeApplication,application:c||{}}))),r.a.createElement(Xe.a,{item:!0},r.a.createElement(yt,{data:n||[],onChangePartner:this.handleChangePartner,partnerId:o.id||c.partnerId})),r.a.createElement(Xe.a,{item:!0},r.a.createElement(vt,{handleComplete:this.handleCompleteStep,completedStepIndex:c.completed_step,completedStepDesc:c.step_description,partnerId:o.id||null})))),0!==Object.keys(a).length&&r.a.createElement(ot,{lead:a,files:i,appId:c.id})))}}]),t}(r.a.Component),jt=Object(o.connect)(function(e){return{lead:e.leads.currentLead,files:e.leads.files,applicationSelected:e.leads.applicationSelected,partners:e.leads.partners,loading:e.leads.loading}},{setSingleLead:Ue,connectPartner:function(e,t){return function(){var n=Object(j.a)(O.a.mark(function n(a,r){var c,i,o;return O.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:c=r().leads.currentLead,i=Object(ue.a)({},c,{applications:c.applications.map(function(n){return n.id===t?Object(ue.a)({},n,{partnerId:e}):n})}),(o={})["/applications/"+t]=i.applications.find(function(e){return e.id===t}),a(Fe.start()),N.ref().update(o).then(function(){a(Fe.updatelead(i))}).catch(function(e){a(Fe.failure(e))});case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},completeStep:function(e){return function(){var t=Object(j.a)(O.a.mark(function t(n,a){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.stepDescription===Object.keys(Ie[0])[0]&&n(We(Object(ue.a)({},e,{stepId:0}))),Object.values(Ie[1])[0].includes(e.stepDescription)&&n(Me(Object(ue.a)({},e,{stepId:1}))),Object.values(Ie[2])[0].includes(e.stepDescription)&&n(Ke(Object(ue.a)({},e,{stepId:2}))),Object.values(Ie[3])[0].includes(e.stepDescription)&&n(He(Object(ue.a)({},e,{stepId:3}))),Object.values(Ie[4])[0].includes(e.stepDescription)&&n(ze(Object(ue.a)({},e,{stepId:4}))),Object.values(Ie[5])[0].includes(e.stepDescription)&&n(qe(Object(ue.a)({},e,{stepId:5}))),n(Ue(a().leads.currentLead.id));case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},fetchPartnersByCountry:function(e){return function(){var t=Object(j.a)(O.a.mark(function t(n,a){var r;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],N.ref("partners").orderByChild("country").equalTo(e).on("value",function(e){e.forEach(function(e){var t=e.val();t.id=e.key,r.push(t)}),n(Fe.setpartners(r))});case 2:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},setApplication:function(e){var t=e.id;return function(){var e=Object(j.a)(O.a.mark(function e(n,a){var r,c,i,o,l;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a().leads,c=r.currentLead,(i=r.files)[t]){e.next=7;break}return e.next=4,Le.getFiles(c.id,t);case 4:o=e.sent,l=Object(ue.a)({},i,Object(y.a)({},t,o)),n(Fe.setfiles(l));case 7:n(Fe.updateapplication(Object(ue.a)({},c.applications.find(function(e){return e.id===t}))));case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}})(Object(s.d)(A()(function(e){return{paper:Object(y.a)({marginBottom:3*e.spacing.unit,padding:2*e.spacing.unit},e.breakpoints.up(600+3*e.spacing.unit*2),{marginBottom:6*e.spacing.unit,padding:3*e.spacing.unit}),buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:3*e.spacing.unit,marginLeft:e.spacing.unit}}})(Ot))),Ct=function(){return r.a.createElement(se,null,r.a.createElement(jt,null))},St=n(101),xt=n.n(St),Nt=n(156),kt=n.n(Nt),It=n(306),Rt=n.n(It),At=n(220),Tt=Object(k.a)({PARTNERS:{START:function(e){return e},GETPARTNERSSUCCESS:function(e){return e},GETPARTNERSFAILURE:function(e){return e},CREATEPARTNERSUCCESS:function(e){return e},CREATEPARTNERFAILURE:function(e){return e}}}).partners,Dt=function(e){var t=e.data;return r.a.createElement(At.a,null,t)},Pt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={partnerCreated:!1,createError:!1},n.handleCreate=function(e){e.preventDefault();var t=e.target,a=t.country.value,r=t.companyName.value,c=t.contactName.value,i=t.email.value,o=t.locations.value,l=t.notes.value;n.props.createPartner({country:a,companyName:r,contactName:c,email:i,locations:o,notes:l})},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.loading,c=this.state,i=c.partnerCreated,o=c.createError;return i&&this.formRef.reset(),r.a.createElement(K.a,{className:n.paper},r.a.createElement("div",{className:n.exit},r.a.createElement(L.a,{onClick:this.props.closeModal},r.a.createElement(Rt.a,null))),r.a.createElement(Xe.a,{container:!0,spacing:16,direction:"row",justify:"center",alignItems:"center"},i&&r.a.createElement(Dt,{data:"Partner Created"}),o&&r.a.createElement(Dt,{data:"Partner Not Created"})),r.a.createElement(Xe.a,{container:!0,spacing:16,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(At.a,{variant:"h5",gutterBottom:!0},"Create New Partner")),r.a.createElement("form",{className:n.container,noValidate:!0,autoComplete:"off",onSubmit:this.handleCreate,ref:function(t){return e.formRef=t}},r.a.createElement(Xe.a,{container:!0,spacing:24,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Xe.a,{item:!0,xs:6,sm:8},r.a.createElement(_.a,{className:n.formControl,fullWidth:!0},r.a.createElement(W.a,{htmlFor:"country"},"Country"),r.a.createElement(U.a,{id:"country",name:"country"}))),r.a.createElement(Xe.a,{item:!0,xs:6,sm:8},r.a.createElement(_.a,{className:n.formControl,fullWidth:!0},r.a.createElement(W.a,{htmlFor:"companyName"},"Company Name"),r.a.createElement(U.a,{id:"companyName",name:"companyName"}))),r.a.createElement(Xe.a,{item:!0,xs:6,sm:8},r.a.createElement(_.a,{className:n.formControl,fullWidth:!0},r.a.createElement(W.a,{htmlFor:"contactName"},"Contact Name"),r.a.createElement(U.a,{id:"contactName",name:"contactName"}))),r.a.createElement(Xe.a,{item:!0,xs:6,sm:8},r.a.createElement(_.a,{className:n.formControl,fullWidth:!0},r.a.createElement(W.a,{htmlFor:"email"},"Email ID"),r.a.createElement(U.a,{type:"email",id:"email",name:"email"}))),r.a.createElement(Xe.a,{item:!0,xs:6,sm:8},r.a.createElement(_.a,{className:n.formControl,fullWidth:!0},r.a.createElement(W.a,{htmlFor:"locations"},"Locations Served"),r.a.createElement(U.a,{id:"locations",name:"locations"}))),r.a.createElement(Xe.a,{item:!0,xs:6,sm:8},r.a.createElement(_.a,{className:n.formControl,fullWidth:!0},r.a.createElement(W.a,{htmlFor:"notes"},"Notes"),r.a.createElement(U.a,{id:"notes",name:"notes"}))),r.a.createElement(Xe.a,{item:!0,xs:5},r.a.createElement("div",{className:n.wrapper},r.a.createElement(L.a,{type:"submit",color:"primary",variant:"contained",disabled:!1,fullWidth:!0,className:n.buttons},"Create"),a&&r.a.createElement(D.a,{size:24,className:n.buttonProgress}))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{partnerCreated:e.partnerCreated,createError:e.createError}}}]),t}(r.a.Component),Lt=Object(o.connect)(function(e){return{loading:e.partners.loading,partnerCreated:e.partners.partnerCreated,createError:e.partners.fetchError}},{createPartner:function(e){var t=e.country,n=e.companyName,a=e.contactName,r=e.email,c=e.locations,i=e.notes;return function(e){t&&n&&a&&r&&c&&t?N.ref("/partners").push({companyName:n,contactName:a,email:r,locations:c,notes:i}).then(function(){e(Tt.createpartnersuccess())}).catch(function(t){e(Tt.createpartnerfailure(t))}):e(Tt.createpartnerfailure("empty fields"))}}})(Object($.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap",padding:3*e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:16},menu:{width:200},formControl:{margin:e.spacing.unit},title:{margin:3*e.spacing.unit},paper:{marginTop:3*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},wrapper:{position:"relative"},buttons:{marginTop:"0.5rem"},exit:{position:"absolute",top:"20px",right:0}}})(Object(s.d)(Pt))),Ft=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).getRowClassName=function(e){var t=e.index,a=n.props,r=a.classes,c=a.rowClassName,i=a.onRowClick;return me()(r.tableRow,r.flexContainer,c,Object(y.a)({},r.tableRowHover,-1!==t&&null!=i))},n.cellRenderer=function(e){var t=e.cellData,a=e.columnIndex,c=void 0===a?null:a,i=n.props,o=i.columns,l=i.classes,s=i.rowHeight,u=i.onRowClick;return r.a.createElement(he.a,{component:"div",className:me()(l.tableCell,l.flexContainer,Object(y.a)({},l.noClick,null==u)),variant:"body",style:{height:s},align:null!=c&&o[c].numeric?"right":"left"},t)},n.headerRenderer=function(e){var t,a=e.label,c=e.columnIndex,i=e.dataKey,o=e.sortBy,l=e.sortDirection,s=n.props,u=s.headerHeight,p=s.columns,d=s.classes,m=s.sort,f=(t={},Object(y.a)(t,be.c.ASC,"asc"),Object(y.a)(t,be.c.DESC,"desc"),t),h=p[c].disableSort||null==m?a:r.a.createElement(Ee.a,{active:i===o,direction:f[l]},a);return r.a.createElement(he.a,{component:"div",className:me()(d.tableCell,d.flexContainer,d.noClick),variant:"head",style:{height:u},align:p[c].numeric?"right":"left"},h)},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.columns,c=Object(pe.a)(t,["classes","columns"]);return r.a.createElement(be.a,null,function(t){var i=t.height,o=t.width;return r.a.createElement(be.d,Object.assign({className:n.table,height:i,width:o},c,{rowClassName:e.getRowClassName}),a.map(function(t,a){var c,i=t.cellContentRenderer,o=void 0===i?null:i,l=t.className,s=t.dataKey,u=Object(pe.a)(t,["cellContentRenderer","className","dataKey"]);return c=null!=o?function(t){return e.cellRenderer({cellData:o(t),columnIndex:a})}:e.cellRenderer,r.a.createElement(be.b,Object.assign({key:s,headerRenderer:function(t){return e.headerRenderer(Object(ue.a)({},t,{columnIndex:a}))},className:me()(n.flexContainer,l),cellRenderer:c,dataKey:s},u))}))})}}]),t}(r.a.PureComponent);Ft.defaultProps={headerHeight:56,rowHeight:56};var _t=Object($.withStyles)(function(e){return{table:{fontFamily:e.typography.fontFamily},flexContainer:{display:"flex",flex:1,alignItems:"center",boxSizing:"border-box"},tableRow:{cursor:"pointer"},tableRowHover:{"&:hover":{backgroundColor:e.palette.grey[200]}},tableCell:{flex:1},noClick:{cursor:"initial"}}})(Ft),Bt=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).state={rows:[]},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){this.props.history;var e=this.state.rows;return r.a.createElement(K.a,{style:{height:500,width:"100%"}},r.a.createElement(_t,{rowCount:e.length,rowGetter:function(t){var n=t.index;return e[n]},columns:[{width:200,flexGrow:1,label:"Company Name",dataKey:"companyName"},{width:200,flexGrow:1,label:"Contact name",dataKey:"contactName",numeric:!1},{width:200,flexGrow:1,label:"Email ID",dataKey:"email",numeric:!1},{width:300,flexGrow:1,label:"Locations Served",dataKey:"locations",numeric:!1},{width:300,flexGrow:1,label:"Notes",dataKey:"notes",numeric:!1}]}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.data!==t.data&&null!==e.data)return console.log(e.data),{rows:e.data.map(function(e){return e})}}}]),t}(r.a.Component),Ut=Object(s.d)(Bt),Gt=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).state={openModal:!1},n.getPartners=function(){n.props.getTasksThunk()},n.openModal=function(){n.setState({openModal:!n.state.openModal},function(){n.getPartners()})},n.getPartners(),n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getPartners()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.partners,a=e.classes;return t?r.a.createElement(D.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{className:a.linkButton,variant:"contained",color:"primary",onClick:this.openModal},"Create Partner"),r.a.createElement(xt.a,{open:this.state.openModal,className:a.modal,disableAutoFocus:!0},r.a.createElement(kt.a,{className:a.dialogContent},r.a.createElement(Lt,{closeModal:this.openModal}))),!t&&r.a.createElement(Ut,{data:n}))}}]),t}(r.a.Component),Wt=Object(o.connect)(function(e){return{partners:e.partners.partners,loading:e.partners.loading}},{getTasksThunk:function(){return function(e){e(Tt.start());var t=[];N.ref("/partners").once("value",function(e){e.forEach(function(e){var n=e.val();n.id=e.key,t.push(n)})}).then(function(){e(Tt.getpartnerssuccess(t))}).catch(function(t){e(Tt.getpartnersfailure(t))})}}})(Object($.withStyles)(function(e){return{link:{textDecoration:"none"},linkButton:{margin:2*e.spacing.unit},modal:{width:"60%",marginLeft:"20%"},dialogContent:{padding:0}}})(Gt)),Mt=function(){return r.a.createElement(se,null,r.a.createElement(Wt,null))},Kt=function(){return r.a.createElement(se,null,r.a.createElement(Lt,null))},Ht=function(){return r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(s.a,{exact:!0,path:"/login",component:f(Q)}),r.a.createElement(s.a,{exact:!0,path:"/",component:m(ke)}),r.a.createElement(s.a,{path:"/singleLead/:id",component:m(Ct)}),r.a.createElement(s.a,{exact:!0,path:"/partners",component:m(Mt)}),r.a.createElement(s.a,{exact:!0,path:"/createPartner",component:m(Kt)})))},zt=n(54),qt=(n(295),n(291),n(307)),Yt=n(308),Jt=n(309),Vt=n.n(Jt),Xt=n(690),Qt=Object(Xt.a)({AUTH:{START:function(e){return Object(ue.a)({},e,{loggingIn:!0,loginError:null})},FAILURE:function(e,t){return Object(ue.a)({},e,{loggingIn:!1,accessToken:null,user:null,loginError:t.payload})},SUCCESS:function(e,t){return Object(ue.a)({},e,{loggingIn:!1,refreshToken:t.payload.refreshToken,user:t.payload.email,loginError:null})}}},{user:null,loggingIn:!1,loginError:null}),$t=Object(Xt.a)({LEADS:{START:function(e){return Object(ue.a)({},e,{loading:!0})},UPDATELEAD:function(e,t){return Object(ue.a)({},e,{loading:!1,currentLead:t.payload})},UPDATEAPPLICATION:function(e,t){return Object(ue.a)({},e,{loading:!1,applicationSelected:t.payload})},SETFILES:function(e,t){return Object(ue.a)({},e,{files:t.payload})},SETSINGLELEAD:function(e,t){return Object(ue.a)({},e,{loading:!1,currentLead:t.payload})},SETPARTNERS:function(e,t){return Object(ue.a)({},e,{loading:!1,partners:t.payload})}}},{leads:[],currentLead:{},files:{},applicationSelected:{},loading:!1}),Zt=Object(Xt.a)({DASHBOARD:{START:function(e){return Object(ue.a)({},e,{loading:!0,fetchError:null})},FAILURE:function(e,t){return Object(ue.a)({},e,{loading:!1,fetchError:t.payload})},SUCCESS:function(e,t){return Object(ue.a)({},e,{loading:!1,leads:t.payload})},UPDATED:function(e,t){return Object(ue.a)({},e,{currentLead:t.payload})},SETSINGLELEAD:function(e,t){return Object(ue.a)({},e,{currentLead:t.payload})},SETPARTNERS:function(e,t){return Object(ue.a)({},e,{partners:t.payload})},CLEARSINGLELEAD:function(e,t){return Object(ue.a)({},e,{currentLead:{}})}}},{loading:!1,fetchError:null,leads:[],currentLead:{},partners:[]}),en=Object(Xt.a)({PARTNERS:{START:function(e){return Object(ue.a)({},e,{loading:!0})},GETPARTNERSFAILURE:function(e,t){return Object(ue.a)({},e,{loading:!1,fetchError:t.payload.error})},GETPARTNERSSUCCESS:function(e,t){return Object(ue.a)({},e,{loading:!1,partners:t.payload,fetchError:null})},CREATEPARTNERSUCCESS:function(e,t){return Object(ue.a)({},e,{loading:!1,partnerCreated:!0,fetchError:null})},CREATEPARTNERFAILURE:function(e,t){return Object(ue.a)({},e,{loading:!1,partnerCreated:!1,fetchError:t.payload})}}},{partners:[],partnerCreated:!1,loading:!1,fetchError:null}),tn=function(e,t){return function(n,a){var r=void 0===n;return t(a)||r?e(n,a):n}},nn=function(e){return function(t){return t.type.startsWith(e)}},an=Object(zt.c)({auth:tn(Qt,nn("AUTH")),dashboard:tn(Zt,nn("DASHBOARD")),leads:tn($t,nn("LEADS")),partners:tn(en,nn("PARTNERS"))}),rn=function(e,t){return"AUTH/LOGOUT"===t.type&&(e=void 0),an(e,t)},cn=Object(qt.createLogger)({collapsed:!0}),on=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||zt.d,ln=n(157),sn=n.n(ln),un=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pn(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var dn=function(){var e=Object(zt.e)(rn,on(Object(zt.a)(Yt.a,Vt.a,cn)));return window.Store=e,{store:e}}().store;dn.dispatch(function(){var e=Object(j.a)(O.a.mark(function e(t){var n,a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=sessionStorage.getItem("login"),a=sessionStorage.getItem("password"),null!=n&&null!=!a){e.next=5;break}return t(I.logout()),e.abrupt("return");case 5:t(I.start()),x.signInWithEmailAndPassword(n,a).then(function(e){t(I.success({email:e.user.email,refreshToken:e.user.refreshToken}))}).catch(function(e){console.log(e),t(I.failure(e))});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var mn=Object($.createMuiTheme)({palette:{primary:{main:"#4b8aaf"},secondary:{main:"rgb(55, 46, 142)"}},typography:{h1:{fontSize:"3rem"},h2:{fontSize:"2.35rem"},h3:{fontSize:"1.85rem"},h4:{fontSize:"1.6rem"},h5:{fontSize:"1.35rem"},useNextVariants:!0}});window.theme=mn,i.a.render(r.a.createElement(o.Provider,{store:dn},r.a.createElement($.MuiThemeProvider,{theme:mn},r.a.createElement(sn.a,null),r.a.createElement(Ht,null))),document.getElementById("app")),function(e){if("serviceWorker"in navigator){if(new URL("/tefl-crm",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/tefl-crm","/service-worker.js");un?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):pn(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):pn(t,e)})}}()}},[[377,1,2]]]);
//# sourceMappingURL=main.f7b2bf01.chunk.js.map